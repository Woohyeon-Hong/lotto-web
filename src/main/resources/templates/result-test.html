<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8">
  <title>로또 결과</title>
</head>
<body>
<h1>로또 결과</h1>

<section>
  <h2>결과 요약</h2>
  <p><strong>총 수익률:</strong> <span th:text="${result.returnRate} + '%'"></span></p>

  <h3>등수별 당첨 통계</h3>
  <ul>
    <li th:each="rankCount : ${result.rankCounts}">
      <span th:text="${rankCount.key}"></span> :
      <span th:text="${rankCount.value}"></span> 회
    </li>
  </ul>
</section>

<section>
  <h2>로또별 상세 결과</h2>
  <table border="1">
    <thead>
    <tr>
      <th>로또 번호</th>
      <th>일치 개수</th>
      <th>보너스</th>
      <th>등수</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="detail : ${result.details}">
      <td th:text="${detail.lotto.numbers}"></td>
      <td th:text="${detail.matchedCount}"></td>
      <td th:text="${detail.bonusMatched} ? 'O' : 'X'"></td>
      <td th:text="${detail.rank}"></td>
    </tr>
    </tbody>
  </table>
</section>

<form th:action="@{/lottos}" method="get">
  <button type="submit">다시 구매하기</button>
</form>

</body>
</html>
